<head>
  <title>JS-interpreter-test</title>
</head>

<body>
  <h1>JS-Interpreter Test</h1>

  <p>Click <em>Run</em> and check your terminal running the Meteor server for the program outputs.</p>

  <p>
    <textarea id="code">
// Capturing variable test 4
var a = 1;
var set_a_to_2 = function(a) {
    a = 2;
    print("0.5a = " + a + " // 2");
    wait_for_all([function() {
        print("1a = " + a + " // 2");
        a = 3;
    }, function() {
        sleep(0.5);
        print("2a = " + a + " // 3");
    }]);
};
var test = function(a) {
    wait_for_all([function() {
        set_a_to_2(a);
        print("3a = " + a + " // 1");
    }]);
    print("4a = " + a + " // 1");
    a = 4;
};
test(a);
print("5a = " + a + " // 1");

    </textarea><br>
    <button class="runButton">Run</button>
  </p>
</body>
